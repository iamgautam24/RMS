@model WebApplication2.Models.Registration

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend></legend>

        <div class="editor-label">
            First Name
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Firstname)
            @Html.ValidationMessageFor(model => model.Firstname)
        </div>

        <div class="editor-label">
            Last Name
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Lastname)
            @Html.ValidationMessageFor(model => model.Lastname)
        </div>

        <div class="editor-label">
            ContactNo
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.ContactNo)
            @Html.ValidationMessageFor(model => model.ContactNo)
        </div>

        <div class="editor-label">
            EmailId
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.EmailId)
            @Html.ValidationMessageFor(model => model.EmailId)
        </div>

        <p>
            <input type="button" value="Create" onclick="Save()" />
        </p>
    </fieldset>}
<div>
    @Html.ActionLink("Close", "Index")
</div>

<link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/jquery-ui-1.10.4/themes/base/jquery-ui.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/jquery-ui-1.10.4/ui/minified/jquery-ui.min.js")" type="text/javascript"></script>

<script type="text/javascript">function Save() {
        var Firstname = $("#Firstname").val();
        var Lastname = $("#Lastname").val();
        var Phone = $("#Phone").val();
        var Email = $("#Email").val();

        var Register = {
            "Firstname": Firstname, "Lastname": Lastname, "Phone": Phone,
            "Email": Email
        };

        $.post("/Registration/Create", Register,
        function (data) { if (data == 0) { location = location.href; } }, 'json');
    }</script>
